---
title: mysqlåŒä¸»æ­å»º
date: 2021-05-17 16:01:54
permalink: /pages/509455/
categories:
  - å®‰è£…
  - Mysql
tags:
  - mysql
---


ä¹‹å‰summeréƒ¨ç½²è¿‡ä¸»ä»ï¼Œè¿™é‡Œè®°å½•ä¸‹éƒ¨ç½²åŒä¸»çš„æ–¹æ³•ï¼Œå‘æœ‰è›®å¤šä½†æ€»ä½“è¿˜ç®—é¡ºåˆ©ã€‚MySQLç‰ˆæœ¬ä¸º`8.0.19`ã€‚

<!-- more -->


##  å‰ç½®æ¡ä»¶

- MySQLç‰ˆæœ¬ä¸º`8.0.19`å®‰è£…æ–¹æ³•è§[`mysql8å®‰è£…`](https://www.xswsym.online/pages/7a784f/)
- è¿™é‡Œå‡†å¤‡ä¸¤ä¸ªèŠ‚ç‚¹A:`200`,B:`201`

```shell
root in summer-200 in /usr/local/mysql took 34m44s 
âœ mysql -V
mysql  Ver 8.0.19 for linux-glibc2.12 on x86_64 (MySQL Community Server - GPL)
root in summer-200 in /usr/local/mysql 
âœ ip a | grep 200
    inet 192.168.163.200/16 brd 192.168.255.255 scope global ens192
```

```shell
root in summer-201 in ~ 
âœ mysql -V
mysql  Ver 8.0.19 for linux-glibc2.12 on x86_64 (MySQL Community Server - GPL)
root in summer-201 in ~ 
âœ ip a | grep 201
    inet 192.168.163.201/16 brd 192.168.255.255 scope global ens192
```

## åŒä¸»é…ç½®

### ä¸»æœºAï¼ˆ200ï¼‰é…ç½®

```shell
root in summer-200 in ~ via ğŸ v2.7.5 took 15m21s 
âœ cat /etc/my.cnf
[mysqld]
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
port=23306
user=mysql
socket=/tmp/mysql.sock
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd
#skip-grant-tables

# åŒä¸»é…ç½®å¼€å§‹
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=10000
# å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººä»è¯¥ä¸»æœºè¯•å›¾æ”»å‡»æ•°æ®åº“ç³»ç»Ÿ
max_connect_errors=10
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸ºUTF8
character-set-server=utf8
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB
# é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯
default_authentication_plugin=mysql_native_password
# è¡¨åä¸åŒºåˆ†å¤§å°å†™
# lower_case_table_names=1
#ä»»æ„è‡ªç„¶n,åªéœ€è¦ä¿è¯ä¸¤å°mysqlä¸»æœºä¸é‡å¤å°±å¯ä»¥
server-id = 200
#å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—
log-bin=mysql-bin
#binlogå•æ–‡ä»¶æœ€å¤§å€¼
max_binlog_size=1024M
#èµ·å§‹å€¼ï¼Œä¸€èˆ¬å¡«å†™ç¬¬nå°ä¸»æœºmysql.æ­¤æ—¶ä¸ºç¬¬ä¸€å°ä¸»  mysql
auto_increment_offset=1
#æ­¥è¿›å€¼auto_imcrement ã€‚ä¸€èˆ¬æœ‰nå°ä¸»mysqlå°±å¡«n
auto_increment_increment=2
#æŒ‡å®šåŒæ­¥çš„æ•°æ®åº“ï¼Œä¸å¡«å†™åˆ™é»˜è®¤æ‰€æœ‰çš„æ•°æ®åº“
#replicate-do-db=gohealth-plat
log-slave-updates=true
secure_file_priv=/
[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8
protocol=tcp
[client]
# è®¾ç½®mysqlå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶é»˜è®¤ä½¿ç”¨çš„ç«¯å£
port=23306
default-character-set=utf8
# åŒä¸»é…ç½®ç»“æŸ

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d

root in summer-200 in ~ via ğŸ v2.7.5 
âœ
```

### é…ç½®åé‡å¯mysql

```shell
root in summer-200 in local/mysql/data 
âœ vim /etc/my.cnf
root in summer-200 in local/mysql/data took 17s 
âœ systemctl restart mysqld.service
root in summer-200 in local/mysql/data took 5s 
âœ systemctl status mysqld.service
â— mysqld.service - LSB: start and stop MySQL
   Loaded: loaded (/etc/rc.d/init.d/mysqld; bad; vendor preset: disabled)
   Active: active (running) since Mon 2021-05-17 11:56:19 CST; 31s ago
     Docs: man:systemd-sysv-generator(8)
  Process: 2410510 ExecStop=/etc/rc.d/init.d/mysqld stop (code=exited, status=0/SUCCESS)
  Process: 2410827 ExecStart=/etc/rc.d/init.d/mysqld start (code=exited, status=0/SUCCESS)
    Tasks: 40
   Memory: 372.6M
   CGroup: /system.slice/mysqld.service
           â”œâ”€2410845 /bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/usr/local/mysql/data --pid-file=/usr/local/mysql/data/summer-200.pid
           â””â”€2411230 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=/var/log/mariadb/ma...

May 17 11:56:17 summer-200 systemd[1]: Starting LSB: start and stop MySQL...
May 17 11:56:19 summer-200 mysqld[2410827]: Starting MySQL..[  OK  ]
May 17 11:56:19 summer-200 systemd[1]: Started LSB: start and stop MySQL.
```



### ä¸»æœºBï¼ˆ201ï¼‰é…ç½®


```shell
root in summer-201 in ~ took 10m31s 
âœ cat /etc/my.cnf
[mysqld]
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
port=23306
user=mysql
socket=/tmp/mysql.sock
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd
#skip-grant-tables

# åŒä¸»é…ç½®å¼€å§‹
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=10000
# å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººä»è¯¥ä¸»æœºè¯•å›¾æ”»å‡»æ•°æ®åº“ç³»ç»Ÿ
max_connect_errors=10
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸ºUTF8
character-set-server=utf8
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB
# é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯
default_authentication_plugin=mysql_native_password
# è¡¨åä¸åŒºåˆ†å¤§å°å†™
#lower_case_table_names=1
#ä»»æ„è‡ªç„¶n,åªéœ€è¦ä¿è¯ä¸¤å°mysqlä¸»æœºä¸é‡å¤å°±å¯ä»¥
server-id = 201
#å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—
log-bin=mysql-bin
#binlogå•æ–‡ä»¶æœ€å¤§å€¼
max_binlog_size=1024M
#èµ·å§‹å€¼ï¼Œä¸€èˆ¬å¡«å†™ç¬¬nå°ä¸»æœºmysql.æ­¤æ—¶ä¸ºç¬¬äºŒå°ä¸»  mysql
auto_increment_offset=2
#æ­¥è¿›å€¼auto_imcrement ã€‚ä¸€èˆ¬æœ‰nå°ä¸»mysqlå°±å¡«n
auto_increment_increment=2
#æŒ‡å®šåŒæ­¥çš„æ•°æ®åº“ï¼Œä¸å¡«å†™åˆ™é»˜è®¤æ‰€æœ‰çš„æ•°æ®åº“
#replicate-do-db=gohealth-plat
log-slave-updates=true
secure_file_priv=/
[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8
protocol=tcp
[client]
# è®¾ç½®mysqlå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶é»˜è®¤ä½¿ç”¨çš„ç«¯å£
port=23306
default-character-set=utf8
# åŒä¸»é…ç½®ç»“æŸ

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d
```

### é…ç½®åé‡å¯mysql

```shell
root in summer-201 in ~ 
âœ vim /etc/my.cnf
root in summer-201 in ~ took 14s 
âœ systemctl restart mysqld.service
root in summer-201 in ~ took 5s 
âœ systemctl status mysqld.service
â— mysqld.service - LSB: start and stop MySQL
   Loaded: loaded (/etc/rc.d/init.d/mysqld; bad; vendor preset: disabled)
   Active: active (running) since Mon 2021-05-17 11:56:47 CST; 13s ago
     Docs: man:systemd-sysv-generator(8)
  Process: 2136078 ExecStop=/etc/rc.d/init.d/mysqld stop (code=exited, status=0/SUCCESS)
  Process: 2136492 ExecStart=/etc/rc.d/init.d/mysqld start (code=exited, status=0/SUCCESS)
    Tasks: 40
   Memory: 380.5M
   CGroup: /system.slice/mysqld.service
           â”œâ”€2136505 /bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/usr/local/mysql/data --pid-file=/usr/local/mysql/data/summer-201.pid
           â””â”€2136862 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=/var/log/mariadb/ma...

May 17 11:56:45 summer-201 systemd[1]: Stopped LSB: start and stop MySQL.
May 17 11:56:45 summer-201 systemd[1]: Starting LSB: start and stop MySQL...
May 17 11:56:47 summer-201 mysqld[2136492]: Starting MySQL..[  OK  ]
May 17 11:56:47 summer-201 systemd[1]: Started LSB: start and stop MySQL.
```


## ä¸»æœºAï¼ˆ200ï¼‰sqlé…ç½®

- åœ¨Aä¸Šåˆ›å»ºå¤åˆ¶ç”¨æˆ·testï¼Œå¯†ç hadoop
- è®°å½•äºŒè¿›åˆ¶æ–‡ä»¶åå’Œä½ç½®

```shell
root in summer-200 in ~ via ğŸ v2.7.5 
âœ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 8
Server version: 8.0.19 MySQL Community Server - GPL

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> create user 'test'@'192.168.163.201' identified with mysql_native_password by 'hadoop';
Query OK, 0 rows affected (0.03 sec)

mysql> grant replication slave on *.* to 'test'@'192.168.163.201';
Query OK, 0 rows affected (0.00 sec)

mysql> grant replication client on *.* to 'test'@'192.168.163.201';
Query OK, 0 rows affected (0.00 sec)

mysql> flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql> show grants for 'test'@'192.168.163.201';
+--------------------------------------------------------------------------------+
| Grants for test@192.168.163.201                                                |
+--------------------------------------------------------------------------------+
| GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO `test`@`192.168.163.201` |
+--------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> show master status;
+------------------+----------+--------------+------------------+-------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |
+------------------+----------+--------------+------------------+-------------------+
| mysql-bin.000002 |     1108 |              |                  |                   |
+------------------+----------+--------------+------------------+-------------------+
1 row in set (0.00 sec)
```


- ç™»é™†ä¸»æœºBï¼ˆ201ï¼‰æ•°æ®åº“ï¼Œæ‰§è¡ŒåŒæ­¥è¯­å¥

```shell
mysql> change master to
    ->     master_host='192.168.163.200',
    ->     master_user='test',
    ->     master_port=23306,
    ->     master_password='hadoop',
    ->     master_log_file='mysql-bin.000002',
    ->     master_log_pos=1108;
Query OK, 0 rows affected, 1 warning (0.01 sec)

--------------
change master to
    master_host='192.168.163.200',
    master_user='test',
    master_port=23306,
    master_password='hadoop',
    master_log_file='mysql-bin.000002',
    master_log_pos=1108;
--------------
```



## ä¸»æœºBï¼ˆ201ï¼‰sqlé…ç½®


- åœ¨Bä¸Šåˆ›å»ºå¤åˆ¶ç”¨æˆ·testï¼Œå¯†ç hadoop
- è®°å½•äºŒè¿›åˆ¶æ–‡ä»¶åå’Œä½ç½®

```shell
root in summer-201 in ~ 
âœ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 8
Server version: 8.0.19 MySQL Community Server - GPL

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> change master to
    ->     master_host='192.168.163.200',
    ->     master_user='test',
    ->     master_port=23306,
    ->     master_password='hadoop',
    ->     master_log_file='mysql-bin.000002',
    ->     master_log_pos=1108;
Query OK, 0 rows affected, 1 warning (0.02 sec)

mysql> create user 'test'@'192.168.163.200' identified with mysql_native_password by 'hadoop';
Query OK, 0 rows affected (0.01 sec)

mysql> grant replication slave on *.* to 'test'@'192.168.163.200';
Query OK, 0 rows affected (0.00 sec)

mysql> grant replication client on *.* to 'test'@'192.168.163.200';
Query OK, 0 rows affected (0.00 sec)

mysql> flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql> show grants for 'test'@'192.168.163.200';
+--------------------------------------------------------------------------------+
| Grants for test@192.168.163.200                                                |
+--------------------------------------------------------------------------------+
| GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO `test`@`192.168.163.200` |
+--------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> show master status;
+------------------+----------+--------------+------------------+-------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |
+------------------+----------+--------------+------------------+-------------------+
| mysql-bin.000001 |     1108 |              |                  |                   |
+------------------+----------+--------------+------------------+-------------------+
1 row in set (0.00 sec)
```

- ç™»é™†ä¸»æœºAï¼ˆ200ï¼‰æ•°æ®åº“ï¼Œæ‰§è¡ŒåŒæ­¥è¯­å¥


```shell
mysql> change master to
    ->     master_host='192.168.163.201',
    ->     master_user='test',
    ->     master_port=23306,
    ->     master_password='hadoop',
    ->     master_log_file='mysql-bin.000001',
    ->     master_log_pos=1108;
Query OK, 0 rows affected, 1 warning (0.02 sec)

--------------
change master to
    master_host='192.168.163.201',
    master_user='test',
    master_port=23306,
    master_password='hadoop',
    master_log_file='mysql-bin.000001',
    master_log_pos=1108;
--------------
```


## å¯åŠ¨ä¸»æœºä¸»ä»å¤åˆ¶

- ä¸»æœºAï¼ˆ200ï¼‰æ•°æ®åº“ï¼Œæ‰§è¡Œå¯åŠ¨è¯­å¥
```shell
mysql> start slave;
Query OK, 0 rows affected (0.02 sec)

mysql> show slave status\G 
*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: 192.168.163.201
                  Master_User: test
                  Master_Port: 23306
                Connect_Retry: 60
              Master_Log_File: mysql-bin.000001
          Read_Master_Log_Pos: 1108
               Relay_Log_File: summer-200-relay-bin.000002
                Relay_Log_Pos: 322
        Relay_Master_Log_File: mysql-bin.000001
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB: gohealth-plat
          Replicate_Ignore_DB: 
           Replicate_Do_Table: 
       Replicate_Ignore_Table: 
      Replicate_Wild_Do_Table: 
  Replicate_Wild_Ignore_Table: 
                   Last_Errno: 0
                   Last_Error: 
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 1108
              Relay_Log_Space: 539
              Until_Condition: None
               Until_Log_File: 
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File: 
           Master_SSL_CA_Path: 
              Master_SSL_Cert: 
            Master_SSL_Cipher: 
               Master_SSL_Key: 
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error: 
               Last_SQL_Errno: 0
               Last_SQL_Error: 
  Replicate_Ignore_Server_Ids: 
             Master_Server_Id: 201
                  Master_UUID: 0d65fe59-b6ba-11eb-802f-000c295c9feb
             Master_Info_File: mysql.slave_master_info
                    SQL_Delay: 0
          SQL_Remaining_Delay: NULL
      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates
           Master_Retry_Count: 86400
                  Master_Bind: 
      Last_IO_Error_Timestamp: 
     Last_SQL_Error_Timestamp: 
               Master_SSL_Crl: 
           Master_SSL_Crlpath: 
           Retrieved_Gtid_Set: 
            Executed_Gtid_Set: 
                Auto_Position: 0
         Replicate_Rewrite_DB: 
                 Channel_Name: 
           Master_TLS_Version: 
       Master_public_key_path: 
        Get_master_public_key: 0
            Network_Namespace: 
1 row in set (0.00 sec)

mysql> \q
Bye
```

- ä¸»æœºBï¼ˆ201ï¼‰æ•°æ®åº“ï¼Œæ‰§è¡Œå¯åŠ¨è¯­å¥

```shell
mysql> start slave; 
Query OK, 0 rows affected (0.01 sec)

mysql> show slave status\G
*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: 192.168.163.200
                  Master_User: test
                  Master_Port: 23306
                Connect_Retry: 60
              Master_Log_File: mysql-bin.000002
          Read_Master_Log_Pos: 1108
               Relay_Log_File: summer-201-relay-bin.000002
                Relay_Log_Pos: 322
        Relay_Master_Log_File: mysql-bin.000002
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB: gohealth-plat
          Replicate_Ignore_DB: 
           Replicate_Do_Table: 
       Replicate_Ignore_Table: 
      Replicate_Wild_Do_Table: 
  Replicate_Wild_Ignore_Table: 
                   Last_Errno: 0
                   Last_Error: 
                 Skip_Counter: 0
          Exec_Master_Log_Pos: 1108
              Relay_Log_Space: 539
              Until_Condition: None
               Until_Log_File: 
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File: 
           Master_SSL_CA_Path: 
              Master_SSL_Cert: 
            Master_SSL_Cipher: 
               Master_SSL_Key: 
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error: 
               Last_SQL_Errno: 0
               Last_SQL_Error: 
  Replicate_Ignore_Server_Ids: 
             Master_Server_Id: 200
                  Master_UUID: f2364547-b6b2-11eb-9943-000c290a6516
             Master_Info_File: mysql.slave_master_info
                    SQL_Delay: 0
          SQL_Remaining_Delay: NULL
      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates
           Master_Retry_Count: 86400
                  Master_Bind: 
      Last_IO_Error_Timestamp: 
     Last_SQL_Error_Timestamp: 
               Master_SSL_Crl: 
           Master_SSL_Crlpath: 
           Retrieved_Gtid_Set: 
            Executed_Gtid_Set: 
                Auto_Position: 0
         Replicate_Rewrite_DB: 
                 Channel_Name: 
           Master_TLS_Version: 
       Master_public_key_path: 
        Get_master_public_key: 0
            Network_Namespace: 
1 row in set (0.00 sec)

mysql> \q
Bye
```

## éªŒè¯


### å»ºåº“æ˜¯å¦åŒæ­¥
- åœ¨Bæ–°å»ºteståº“

```shell
mysql> CREATE DATABASE `test` CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci';
Query OK, 1 row affected (0.01 sec)

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| test               |
+--------------------+
5 rows in set (0.02 sec)
```

- æŸ¥çœ‹Aæ˜¯å¦åŒæ­¥

```shell
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.01 sec)

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| test               |
+--------------------+
5 rows in set (0.02 sec)
```

- **åä¹‹äº¦ç„¶**ï¼ˆåœ¨Aæ–°å»ºåº“summerï¼ŒæŸ¥çœ‹Bæ˜¯å¦åŒæ­¥ï¼‰

åœ¨Aæ–°å»ºåº“summer
```shell
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| test               |
+--------------------+
5 rows in set (0.02 sec)

mysql> CREATE DATABASE `summer` CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_general_ci';
Query OK, 1 row affected (0.03 sec)

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| summer             |
| sys                |
| test               |
+--------------------+
6 rows in set (0.00 sec)
```
æŸ¥çœ‹B

```shell
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| summer             |
| sys                |
| test               |
+--------------------+
6 rows in set (0.00 sec)
```


### æ’å…¥æ•°æ®æ˜¯å¦åŒæ­¥

- åœ¨Aä¸­teståº“éšä¾¿å»ºä¸ªè¡¨å†™ä¸€äº›æ•°æ®


```shell
mysql> use test;
Database changed
mysql> create table students(
    -> id int(11) not null auto_increment,
    -> name varchar(20) not null,
    -> nickname varchar(20) default null,
    -> sex char(1) default null,
    -> in_time datetime default null ,
    -> primary key(id)
    -> )ENGINE=InnoDB AUTO_INCREMENT=2, DEFAULT CHARSET=utf8;
Query OK, 0 rows affected, 2 warnings (0.02 sec)

mysql> show tables
    -> ;
+----------------+
| Tables_in_test |
+----------------+
| students       |
+----------------+
1 row in set (0.00 sec)

mysql> insert into students value (2,'æå››','å››å“¥','ç”·',now());
Query OK, 1 row affected (0.00 sec)

mysql> select * from students;
+----+--------+----------+------+---------------------+
| id | name   | nickname | sex  | in_time             |
+----+--------+----------+------+---------------------+
|  2 | æå››   | å››å“¥     | ç”·   | 2021-05-17 14:32:00 |
+----+--------+----------+------+---------------------+
1 row in set (0.00 sec)

mysql>
```

- æŸ¥çœ‹Bä¸­teståº“æ˜¯å¦åŒæ­¥è¯¥è¡¨ä»¥åŠè¡¨ä¸­æ•°æ®


```shell
mysql> use test;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+----------------+
| Tables_in_test |
+----------------+
| students       |
+----------------+
1 row in set (0.00 sec)

mysql> select * from students;
+----+--------+----------+------+---------------------+
| id | name   | nickname | sex  | in_time             |
+----+--------+----------+------+---------------------+
|  2 | æå››   | å››å“¥     | ç”·   | 2021-05-17 14:32:00 |
+----+--------+----------+------+---------------------+
1 row in set (0.00 sec)

mysql>
```

- **åä¹‹äº¦ç„¶**ï¼ˆåœ¨Bæ–°å»ºè¡¨å¹¶æ’å…¥æ•°æ®ï¼ŒæŸ¥çœ‹Aæ˜¯å¦åŒæ­¥ï¼‰

åœ¨Bæ–°å»ºè¡¨mytableå¹¶æ’å…¥æ•°æ®
```shell
mysql> create table mytable (name varchar(20), sex char(1),birth date, birthaddr varchar(20));
Query OK, 0 rows affected (0.11 sec)

mysql> show tables;
+----------------+
| Tables_in_test |
+----------------+
| mytable        |
| students       |
+----------------+
2 rows in set (0.13 sec)

mysql> describe mytable;
+-----------+-------------+------+-----+---------+-------+
| Field     | Type        | Null | Key | Default | Extra |
+-----------+-------------+------+-----+---------+-------+
| name      | varchar(20) | YES  |     | NULL    |       |
| sex       | char(1)     | YES  |     | NULL    |       |
| birth     | date        | YES  |     | NULL    |       |
| birthaddr | varchar(20) | YES  |     | NULL    |       |
+-----------+-------------+------+-----+---------+-------+
4 rows in set (0.01 sec)

mysql> insert into mytable
    -> values(
    -> 'abc','f','1988-07-07','chian'); 
Query OK, 1 row affected (0.00 sec)

mysql> select * from mytable;
+------+------+------------+-----------+
| name | sex  | birth      | birthaddr |
+------+------+------------+-----------+
| abc  | f    | 1988-07-07 | chian     |
+------+------+------------+-----------+
1 row in set (0.00 sec)

mysql>
```

æŸ¥çœ‹A


```shell
mysql> show tables;
+----------------+
| Tables_in_test |
+----------------+
| mytable        |
| students       |
+----------------+
2 rows in set (0.01 sec)

mysql> select * from mytable;
+------+------+------------+-----------+
| name | sex  | birth      | birthaddr |
+------+------+------------+-----------+
| abc  | f    | 1988-07-07 | chian     |
+------+------+------------+-----------+
1 row in set (0.04 sec)

mysql>
```




